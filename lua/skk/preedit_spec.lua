local PreEdit = require("skk.preedit")

describe("preedit test", function()
  it("normal", function()
    local preEdit = PreEdit.new()
    -- input 'ã²ã‚‰'
    assert.equals("h", preEdit:output("h"))
    preEdit:doKakutei("ã²")
    assert.equals("\bã²", preEdit:output(""))
    assert.equals("r", preEdit:output("r"))
    preEdit:doKakutei("ã‚‰")
    assert.equals("\bã‚‰", preEdit:output(""))
  end)

  it("emoji", function()
    local preEdit = PreEdit.new()
    assert.equals("ğŸ’©", preEdit:output("ğŸ’©"))
    assert.equals("\bğŸš½", preEdit:output("ğŸš½"))
    assert.equals("\bğŸ¦", preEdit:output("ğŸ¦"))
  end)
end)
